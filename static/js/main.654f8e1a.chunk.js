(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{49:function(e,t,a){},61:function(e,t,a){e.exports=a.p+"static/media/program.09ba2146.jpg"},62:function(e,t,a){e.exports=a.p+"static/media/pay.daecf0bb.jpg"},67:function(e,t,a){e.exports=a(90)},72:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(38),s=a.n(l),r=(a(72),a(7)),c=a(8),u=a(10),i=a(9),m=a(17),d=a(11),p=a(63),h=a(26),g=a(34),f=a(22),v=(a(28),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={loged:a.props.loged,username:a.props.username},a.onlogOut=a.onlogOut.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){null!==this.props.username&&this.setState({loged:!0})}},{key:"onlogOut",value:function(){this.props.updateLoged(!1),window.location.href="#/Landing",localStorage.removeItem("studyLinkuser")}},{key:"render",value:function(){var e;return e=this.props.loged?o.a.createElement(f.a,null,o.a.createElement(f.a.Link,null,"\u0423\u0432\u0456\u0439\u0434\u0435\u043d\u043e \u044f\u043a ",this.props.username),o.a.createElement(f.a.Link,{onClick:this.onlogOut},"\u0412\u0438\u0439\u0442\u0438")):o.a.createElement(f.a,null,o.a.createElement(f.a.Link,{href:"#/SignIn"},"\u0423\u0432\u0456\u0439\u0442\u0438")),o.a.createElement(g.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},o.a.createElement(g.a.Brand,{href:"#/landing"},"StudyLink"),console.log(this.props),o.a.createElement(g.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),o.a.createElement(g.a.Collapse,{id:"responsive-navbar-nav"},o.a.createElement(f.a,{className:"mr-auto"},o.a.createElement(f.a,null,o.a.createElement(f.a.Link,{href:"#/home"},"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"),o.a.createElement(f.a.Link,{href:"#/temes"},"\u041d\u0430\u0432\u0447\u0430\u043d\u043d\u044f"),o.a.createElement(f.a.Link,{href:"#/howtopay"},"\u042f\u043a \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u0438?"))),e))}}]),t}(n.Component)),b=a(20),E=(a(49),a(86),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(u.a)(this,Object(i.a)(t).call(this))).state={loaded:!1,username:"",userInfo:[],temesOpen:null,debt:null},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=b.database().ref().child("schools"),n=JSON.parse(localStorage.getItem("studyLinkuser"));a.on("value",(function(a){e=a.val(),t.setState({userInfo:e}),setTimeout((function(){t.state.userInfo.map((function(e){e.school===n.school&&e.groups.map((function(e){e.name===n.group&&(e.pupils.map((function(e){e.name===n.name&&t.setState({debt:e.debt})})),t.setState({username:n.name,temesOpen:e.temes_open,temesPass:e.temes_pass}))}))}))}),2e3)})),setTimeout((function(){return t.setState({loaded:!0})}),2e3)}},{key:"render",value:function(){return""!==this.state.debt&&o.a.createElement("h2",null,"\u0423\u0432\u0430\u0433\u0430 \u0443 \u0432\u0430\u0441 \u0454 \u0437\u0437\u0430\u0431\u043e\u0440\u0433\u043e\u0432\u0430\u043d\u0456\u0441\u0442\u044c ",o.a.createElement("b",{className:"red"},this.state.debt,"\u0433\u0440\u043d")),""===this.state.debt&&o.a.createElement("div",null),this.state.loaded?this.state.loaded?o.a.createElement("div",null,o.a.createElement("h1",null,"\u0412\u0456\u0442\u0430\u044e ",this.state.username,"!"),o.a.createElement("h3",null,"\u0412\u0456\u0434\u0432\u0456\u0434\u0430\u043d\u043e ",this.state.temesPass," \u0437\u0430\u043d\u044f\u0442\u044c")):void 0:o.a.createElement("div",{className:"lds-facebook"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))}}]),t}(n.Component)),k=a(35),O=(a(87),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(u.a)(this,Object(i.a)(t).call(this))).state={loaded:!1,schools:null},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;b.database().ref().child("schools").on("value",(function(a){e=a.val(),t.setState({schools:e,loaded:!0})}))}},{key:"render",value:function(){return this.state.loaded?this.state.loaded?o.a.createElement("div",null,o.a.createElement("h1",{className:"ff-c"},"\u0423\u0441\u0456 \u0448\u043a\u043e\u043b\u0438 \u0456 \u0433\u0443\u043f\u0438"),this.state.schools.map((function(e){return o.a.createElement("div",{key:e.school},o.a.createElement("h1",{className:"blue ff-c"},e.school),o.a.createElement("div",null,e.groups.map((function(e){return o.a.createElement("div",{key:e.name},o.a.createElement("h3",{align:"left",className:"gray ff-c ml-30 mt-20"},e.name," (\u0437\u0430\u043d\u044f\u0442\u044c \u0432\u0456\u0434\u0431\u0443\u043b\u043e\u0441\u044c - ",e.temes_pass,")"),e.pupils.map((function(e){return o.a.createElement(k.a,{horizontal:!0,key:e.name},o.a.createElement(k.a.Item,{className:"width-250"},e.name),o.a.createElement(k.a.Item,{className:"width-250"},e.password),o.a.createElement(k.a.Item,{className:"width-100"},e.debt))})))}))))}))):void 0:o.a.createElement("div",{className:"lds-facebook"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))}}]),t}(n.Component)),y=a(16),S=a(60),j=a(66),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={signOut:!1,login:null,phone:"",password:"",schools:[],groups:[],school:"",groupSeleced:"",schoolChuse:!1},a.groupSelect=a.groupSelect.bind(Object(m.a)(a)),a.schoolSelect=a.schoolSelect.bind(Object(m.a)(a)),a.onSubmit=a.onSubmit.bind(Object(m.a)(a)),a.onPhoneChange=a.onPhoneChange.bind(Object(m.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=b.database().ref().child("schools"),a=[];t.on("value",(function(t){t.val().map((function(e){a.push(e.school)})),e.setState({schools:a})}))}},{key:"schoolSelect",value:function(e){var t=b.database().ref().child("schools"),a=[];t.on("value",(function(t){t.val().map((function(t){t.school===e.target.value&&t.groups.map((function(e){a.push(e.name)}))}))})),this.setState({school:e.target.value,groups:a,schoolChuse:!0})}},{key:"groupSelect",value:function(e){this.setState({group:e.target.value})}},{key:"onPhoneChange",value:function(e){this.setState({phone:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=b.database().ref().child("schools"),n={};a.on("value",(function(e){e.val().map((function(e){e.school===t.state.school&&e.groups.map((function(e){e.name===t.state.group&&e.pupils.map((function(e){t.state.phone===e.phone&&t.state.password===e.password?(n.name=e.name,n.school=t.state.school,n.group=t.state.group,n.phone=e.phone,n.debt=e.debt,n.password=e.password,localStorage.setItem("studyLinkuser",JSON.stringify(n)),window.location.hash="#/home",t.setState({signOut:!0}),t.props.updateData(e.name)):t.setState({login:!1})}))}))}))}))}},{key:"render",value:function(){var e,t,a=this;return!1===this.state.login&&(e=o.a.createElement(j.a,{variant:"danger"}," Wrong phone number or passwor"),setTimeout((function(){e=o.a.createElement("div",null),a.setState({login:null})}),3e3)),!0===this.state.login&&(e=o.a.createElement("div",null)),this.state.schoolChuse&&(t=o.a.createElement(y.a.Group,{controlId:"exampleForm.ControlSelect2"},o.a.createElement(y.a.Label,null,"\u041d\u0430\u0437\u0432\u0430 \u0433\u0440\u0443\u043f\u0438"),o.a.createElement(y.a.Control,{as:"select",onChange:this.groupSelect},o.a.createElement("option",null,"\u041c\u043e\u044f \u0433\u0440\u0443\u043f\u0430"),this.state.groups.map((function(e){return o.a.createElement("option",{key:e},e)}))))),o.a.createElement("div",{className:"container w-50"},o.a.createElement("br",null),o.a.createElement(y.a,{onSubmit:this.onSubmit},o.a.createElement(y.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(y.a.Label,null,"\u041d\u0430\u0437\u0432\u0430 \u0437\u0430\u043a\u043b\u0430\u0434\u0443"),o.a.createElement(y.a.Control,{as:"select",onChange:this.schoolSelect},o.a.createElement("option",null,"\u041c\u0456\u0439 \u0437\u0430\u043a\u043b\u0430\u0434"),this.state.schools.map((function(e){return o.a.createElement("option",{key:e},e)})))),t,e,o.a.createElement(y.a.Group,null,o.a.createElement(y.a.Label,null,"Phone"),o.a.createElement(y.a.Control,{name:"name",type:"text",placeholder:"Enter phone",onChange:this.onPhoneChange,value:this.state.phone})),o.a.createElement(y.a.Group,{controlId:"formBasicPassword"},o.a.createElement(y.a.Label,null,"Password"),o.a.createElement(y.a.Control,{name:"password",type:"password",placeholder:"Password",onChange:this.onPasswordChange,value:this.state.password})),o.a.createElement(S.a,{variant:"primary",type:"submit"},"Sign in")))}}]),t}(n.Component),C=a(61),L=a.n(C),I=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={login:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("img",{src:L.a,alt:"program"}))}}]),t}(n.Component),N=a(46),D=a(47),P=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(u.a)(this,Object(i.a)(t).call(this))).state={loaded:!1,temes:null,username:null,temesOpen:null},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=b.database().ref(),n=a.child("temes"),o=a.child("schools"),l=JSON.parse(localStorage.getItem("studyLinkuser"));o.on("value",(function(e){e.val().map((function(e){e.school===l.school&&e.groups.map((function(e){e.name===l.group&&t.setState({temesOpen:e.temes_open})}))}))})),n.on("value",(function(a){for(e=a.val();e.length>t.state.temesOpen;)e.pop();t.setState({temes:e,username:l.name,loaded:!0})}))}},{key:"render",value:function(){return this.state.loaded?o.a.createElement("div",null,o.a.createElement("h1",null,"\u0422\u0435\u043c\u0438 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0456 \u0434\u043b\u044f ",this.state.username),o.a.createElement(N.a,{defaultActiveKey:"0",align:"left"},console.log(this.state.temes),this.state.temes.map((function(e){return o.a.createElement(D.a,{key:e.tema},o.a.createElement(N.a.Toggle,{as:D.a.Header,eventKey:e.tema},e.tema),o.a.createElement(N.a.Collapse,{eventKey:e.tema},o.a.createElement(D.a.Body,null,""!==e.task[0]?o.a.createElement("div",null,o.a.createElement("h5",{align:"left"},"\u0417\u0430\u0432\u0434\u0430\u043d\u043d\u044f"),o.a.createElement("ol",null,e.task.map((function(e){return o.a.createElement("li",{align:"left",key:e},o.a.createElement("a",{href:"https://kosaniakmarianone.github.io/"+e,target:"blank"},"\u0417\u0430\u0432\u0434\u0430\u043d\u043d\u044f"))})))):"",""!==e.materials?o.a.createElement("h5",{align:"left"},o.a.createElement("a",{href:e.materials,target:"blank"},"\u041c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0438")):"",""!==e.video?o.a.createElement("h5",{align:"left"},o.a.createElement("a",{href:e.video,target:"blank"},"\u0412\u0456\u0434\u0435\u043e")):"",""===e.video&&""===e.materials&&""===e.task[0]?"\u0422\u0435\u043c\u0430 \u043d\u0435 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0430, \u0430\u0431\u043e \u0440\u043e\u0437\u0433\u043b\u044f\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u043b\u0438\u0448\u0435 \u043d\u0430 \u0437\u0430\u043d\u044f\u0442\u0442\u0456":"")))})))):o.a.createElement("div",{className:"lds-facebook"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))}}]),t}(n.Component),x=a(62),M=a.n(x),B=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(u.a)(this,Object(i.a)(t).call(this))).state={loged:!1},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({loaded:!0})}},{key:"render",value:function(){return this.state.loaded?o.a.createElement("div",null,o.a.createElement("h2",null,"\u0414\u043b\u044f \u0432\u043b\u0430\u0441\u043d\u0438\u043a\u0456\u0432 \u043a\u0430\u0440\u0442\u0438 \u043f\u0440\u0438\u0432\u0430\u0442\u0431\u0430\u043d\u043a\u0443 \u0454 \u0437\u0440\u0443\u0447\u043d\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438."),o.a.createElement("img",{src:M.a,alt:"how to pay"})):o.a.createElement("div",{className:"lds-facebook"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).updateData=function(e){a.setState({username:e,loged:!0})},a.updateLoged=function(e){a.setState({loged:e})},a.state={username:a.props.username},a.updateData=a.updateData.bind(Object(m.a)(a)),a.updateLoged=a.updateLoged.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({loged:!0,username:this.props.username,userschool:this.props.userschool,usergroup:this.props.usergroup})}},{key:"render",value:function(){var e=this;return o.a.createElement(p.a,{basename:"/"},o.a.createElement("div",{className:"App",align:"center"},console.log(this.props),o.a.createElement(h.a,{path:"/",render:function(){return o.a.createElement(v,{username:e.state.username,loged:e.state.loged,updateLoged:e.updateLoged})}}),o.a.createElement(h.a,{exact:!0,path:"/",component:I}),o.a.createElement(h.a,{exact:!0,path:"/landing",component:I}),o.a.createElement(h.a,{exact:!0,path:"/home",component:E}),o.a.createElement(h.a,{exact:!0,path:"/temes",component:P}),o.a.createElement(h.a,{exact:!0,path:"/howtopay",component:B}),o.a.createElement(h.a,{exact:!0,path:"/admin",component:O}),o.a.createElement(h.a,{path:"/SignIn",render:function(){return o.a.createElement(w,{updateData:e.updateData})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A;b.initializeApp({apiKey:"AIzaSyDHAQfudekbBrh4WeEyhi9XZ4tPyuU-nHQ",authDomain:"studylink-62a6b.firebaseapp.com",databaseURL:"https://studylink-62a6b.firebaseio.com",projectId:"studylink-62a6b",storageBucket:"studylink-62a6b.appspot.com",messagingSenderId:"710063505158",appId:"1:710063505158:web:4573c8d89733fc2025e887"}),null!==localStorage.getItem("studyLinkuser")&&(A=JSON.parse(localStorage.getItem("studyLinkuser"))),null==localStorage.getItem("studyLinkuser")&&(A={name:null,school:null,group:null,phone:null,debt:null}),s.a.render(o.a.createElement(J,{username:A.name,userschool:A.school,usergroup:A.group,userphone:A.phone,userdebt:A.debt}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[67,1,2]]]);
//# sourceMappingURL=main.654f8e1a.chunk.js.map